#! /bin/bash

# Creates a tmux session with 4 panes
# 1. ranger file explorer
# 2. console
# 3. Clock
# 4. System monitor


# Session name
session="Default"

# Start new session with name
tmux new-session -d -s $session -x- -y-

# Rename the first window
window=1
tmux rename-window -t $session:$window 'productivity'


# Set up first window's panes
tmux select-window $session:1
tmux split-window -h
tmux split-window -v
tmux select-pane -t 1
tmux split-window -v

tmux select-pane -t 1
tmux resize-pane -x 129 -y 41 -t 1
tmux send-key "ranger" C-m


tmux select-pane -t 3
tmux resize-pane -x 60 -y 9 -t 3
tmux clock-mode

tmux select-pane -t 4
# tmux send-key "btop --preset 2" C-m
tmux send-key "nvim ~/Documents/02-AREAS/diaries/`date +%Y-%m-%d`.md" C-m

tmux select-pane -t 1

# Add a window
tmux new-window -t $session:2 -n "work"
tmux select-window $session:2 
tmux split-window -v
tmux select-pane -t 1
tmux resize-pane -y 41 -t 1
tmux send-key "ranger" C-m

#tmux select-window $session:1

# Attach session
# https://stackoverflow.com/a/72252814/4510359
# tmux a -t session:window.pane
tmux attach-session -t $session:1
